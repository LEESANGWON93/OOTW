<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Outfit of this weather</title>

  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='one-page-wonder.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='one-page-wonder.min.css') }}">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i"
    rel="stylesheet">

  <!-- JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

  <script>

    $(document).ready(function () {
      // index.html 로드가 완료되면 자동으로 show_weather() 함수를 호출합니다.
      $('#weather-state').empty();
      show_weather();
    });

    function show_weather() {
      $.ajax({
        type: 'GET',
        url: '/api/list',
        data: {},
        success: function (response) {
          if (response['result'] == 'success') {
            let weather = response['data'];
            for (let i = 0; i < weather.length; i++) {
              let address = weather[i]['address'];
              let currenttemp = weather[i]['currenttemp'];
              let cast = weather[i]['cast'];
              let min = weather[i]['min'];
              let max = weather[i]['max'];
              $('#weather-state').append(`
              <div class="container">
        <h2 class="masthead-subheading mb-0">${address}</h2>
        <h1 class="masthead-heading mb-0">${currenttemp}℃</h1>
        <h2 class="masthead-subheading mb-0">${min}/${max}</h2>
        <h2 class="masthead-subheading mb-0">${cast}</h2>
      </div>
              `)
            }
          }
        }
      })
    }

  </script>

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">Outfit of this weather</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-targe t="#navbarResponsive"
        aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="https://cremedementhe.shop/">view more style!</a>
          </li>
          </ul>
      </div>
    </div>
  </nav>

  <header class="masthead text-center text-white">
    <div class="masthead-content" id="weather-state">
      <div class="container">
        <img src="{{ url_for('static', filename='sunnyday.png') }}" alt="">
        <h2 class="masthead-subheading mb-0">위치</h2>
        <h1 class="masthead-heading mb-0">현재기온℃</h1>
        <h2 class="masthead-subheading mb-0">최저기온/최대기온</h2>
        <h2 class="masthead-subheading mb-0">날씨 상태</h2>
      </div>
    </div>
  </header>

  <section>
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2">
          <div class="p-5">
            <img class="img-fluid rounded-circle" src="{{ url_for('static', filename='04.jpg') }}" alt="">
          </div>
        </div>
        <div class="col-lg-6 order-lg-1">
          <div class="p-5">
            <h2 class="display-4">가벼운 자켓!</h2>
            <p>거리에 꽃이 피고 따사로운 햇살이 내리쬐는 지금, 매일 유니폼처럼 입던 무채색에서 벗어나 봄처럼 생동감 넘치는 색감으로 스타일을 완성해보는건 어때요? </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-5 bg-black">
    <div class="container">
      <p class="m-0 text-center text-white small">Copyright &copy; Crème de menthe</p>
    </div>
    <!-- /.container -->
  </footer>

  <!-- Bootstrap core JavaScript -->

</body>

</html>